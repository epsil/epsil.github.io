<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Virtual Arm for Impaired: USB task entry point</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.8 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>USB task entry point</h1><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Modules</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00080.html">USB software Events Management</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Macros to manage USB events detected under interrupt. <br></td></tr>

<p>
<tr><td colspan="2"><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00079.html#g01a1049d9451711287e470a436a10205">USB_MODE_UNDEFINED</a>&nbsp;&nbsp;&nbsp;0x00</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00079.html#g0322da46e441ec8a861ae3eb2cec9bf0">USB_MODE_HOST</a>&nbsp;&nbsp;&nbsp;0x01</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00079.html#g673fc2cbe441f3f8e252171b9548cfd3">USB_MODE_DEVICE</a>&nbsp;&nbsp;&nbsp;0x02</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00079.html#g38834ea42f88aab2725511a09e26b24f">VBUS_PULSE</a>&nbsp;&nbsp;&nbsp;1</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00079.html#gf017cca531fc89b00b30b89919ccf31b">DATA_PULSE</a>&nbsp;&nbsp;&nbsp;0</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00079.html#ge82dba9d346625287881116b8a65649c">BDEV_HNP_NB_RETRY</a>&nbsp;&nbsp;&nbsp;3</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00079.html#g5f4509f731ddcedbf064c498203c239b">USER_RQST_SRP</a>&nbsp;&nbsp;&nbsp;0x01</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Definitions of OTG user requests (user software requests).  <a href="#g5f4509f731ddcedbf064c498203c239b"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00079.html#g46feaaa876409732d27eb05cf922fbe0">USER_RQST_SUSPEND</a>&nbsp;&nbsp;&nbsp;0x02</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00079.html#g62a8915a5fd24a561cdcb9eb7fc19757">USER_RQST_VBUS</a>&nbsp;&nbsp;&nbsp;0x04</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00079.html#g6f4554b516653de65f96c7f45e1b8d07">USER_RQST_HNP</a>&nbsp;&nbsp;&nbsp;0x08</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00079.html#g1196e1a7e1bdf30b1b83e13e2219b3dc">USER_RQST_RESUME</a>&nbsp;&nbsp;&nbsp;0x10</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00079.html#g841fae8d0fe3ae835af1aa5873dbcc27">USER_RQST_RESET</a>&nbsp;&nbsp;&nbsp;0x20</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00079.html#ge70fb46d50d8617fd9345f15a2c10772">USER_RQST_DISCONNECT</a>&nbsp;&nbsp;&nbsp;0x40</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00079.html#gf7cbbf3a6b736a3421b1d9074e3b5502">Is_user_requested_srp</a>()&nbsp;&nbsp;&nbsp;(((<a class="el" href="a00079.html#g661a265ea70a7557ab2a40647d3738d8">otg_user_request</a>&amp;USER_RQST_SRP) != 0) ? TRUE : FALSE)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00079.html#ge34906a3a941652675dbc3f7cb4090dd">Set_user_request_srp</a>()&nbsp;&nbsp;&nbsp;(<a class="el" href="a00079.html#g661a265ea70a7557ab2a40647d3738d8">otg_user_request</a> |= USER_RQST_SRP)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00079.html#g2ea6ddaa6c51323e0d1d994bb0e0c051">Ack_user_request_srp</a>()&nbsp;&nbsp;&nbsp;(<a class="el" href="a00079.html#g661a265ea70a7557ab2a40647d3738d8">otg_user_request</a> &amp;= ~USER_RQST_SRP)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00079.html#g13689f58bf67613dc3c70bdda07970c4">Is_user_requested_suspend</a>()&nbsp;&nbsp;&nbsp;(((<a class="el" href="a00079.html#g661a265ea70a7557ab2a40647d3738d8">otg_user_request</a>&amp;USER_RQST_SUSPEND) != 0) ? TRUE : FALSE)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00079.html#g0faf4b373b381635b98485641f2d99aa">Set_user_request_suspend</a>()&nbsp;&nbsp;&nbsp;(<a class="el" href="a00079.html#g661a265ea70a7557ab2a40647d3738d8">otg_user_request</a> |= USER_RQST_SUSPEND)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00079.html#g29e62b13d515bc35dfa73ea948245465">Ack_user_request_suspend</a>()&nbsp;&nbsp;&nbsp;(<a class="el" href="a00079.html#g661a265ea70a7557ab2a40647d3738d8">otg_user_request</a> &amp;= ~USER_RQST_SUSPEND)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00079.html#g20a1985227bc625f42971c3642515f05">Is_user_requested_vbus</a>()&nbsp;&nbsp;&nbsp;(((<a class="el" href="a00079.html#g661a265ea70a7557ab2a40647d3738d8">otg_user_request</a>&amp;USER_RQST_VBUS) != 0) ? TRUE : FALSE)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00079.html#gdb22e172886c28d33ac85db2a9afa6c1">Set_user_request_vbus</a>()&nbsp;&nbsp;&nbsp;(<a class="el" href="a00079.html#g661a265ea70a7557ab2a40647d3738d8">otg_user_request</a> |= USER_RQST_VBUS)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00079.html#g5638ef9d7193ac4123fa71089249efc2">Ack_user_request_vbus</a>()&nbsp;&nbsp;&nbsp;(<a class="el" href="a00079.html#g661a265ea70a7557ab2a40647d3738d8">otg_user_request</a> &amp;= ~USER_RQST_VBUS)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00079.html#gb929946347814d361ce5826517c70654">Is_user_requested_hnp</a>()&nbsp;&nbsp;&nbsp;(((<a class="el" href="a00079.html#g661a265ea70a7557ab2a40647d3738d8">otg_user_request</a>&amp;USER_RQST_HNP) != 0) ? TRUE : FALSE)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00079.html#gafb0d666bec1fdc85cb12bfd6cfc2eb6">Set_user_request_hnp</a>()&nbsp;&nbsp;&nbsp;(<a class="el" href="a00079.html#g661a265ea70a7557ab2a40647d3738d8">otg_user_request</a> |= USER_RQST_HNP)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00079.html#gb6a6431c2da40c8c00a379fe7737251d">Ack_user_request_hnp</a>()&nbsp;&nbsp;&nbsp;(<a class="el" href="a00079.html#g661a265ea70a7557ab2a40647d3738d8">otg_user_request</a> &amp;= ~USER_RQST_HNP)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00079.html#g0048cb6b3f4d016c6171235bdc2a3631">Is_user_requested_disc</a>()&nbsp;&nbsp;&nbsp;(((<a class="el" href="a00079.html#g661a265ea70a7557ab2a40647d3738d8">otg_user_request</a>&amp;USER_RQST_DISCONNECT) != 0) ? TRUE : FALSE)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00079.html#ga0583d7c6df12d342d7f4bd3164f23fb">Set_user_request_disc</a>()&nbsp;&nbsp;&nbsp;(<a class="el" href="a00079.html#g661a265ea70a7557ab2a40647d3738d8">otg_user_request</a> |= USER_RQST_DISCONNECT)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00079.html#g930494da83c0ad0ff8c560220ddb27ca">Ack_user_request_disc</a>()&nbsp;&nbsp;&nbsp;(<a class="el" href="a00079.html#g661a265ea70a7557ab2a40647d3738d8">otg_user_request</a> &amp;= ~USER_RQST_DISCONNECT)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00079.html#ga7cb723a3cba0ad69265420daaa618a9">Clear_all_user_request</a>()&nbsp;&nbsp;&nbsp;(<a class="el" href="a00079.html#g661a265ea70a7557ab2a40647d3738d8">otg_user_request</a> = 0)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00079.html#g511d39ad0992067396d6233f0495b3dc">Otg_timer_init</a>()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This macro initializes the timer for OTG specific timings.  <a href="#g511d39ad0992067396d6233f0495b3dc"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00079.html#gb396d57646dd0b4ea715b216a8e02554">OTG_COMPLIANCE_TRICKS</a>&nbsp;&nbsp;&nbsp;DISABLED</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Enable some additionnal feature to pass compliance plan.  <a href="#gb396d57646dd0b4ea715b216a8e02554"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00079.html#g11ff8219dd57b28cf46d181af4e279f5">OTG_VBUS_AUTO_AFTER_A_PLUG_INSERTION</a>&nbsp;&nbsp;&nbsp;DISABLED</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Selects a Vbus delivery option.  <a href="#g11ff8219dd57b28cf46d181af4e279f5"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00079.html#g958ae5b13ce0ccaa994cf2f9749c9f01">OTG_B_DEVICE_AUTORUN_HNP_IF_REQUIRED</a>&nbsp;&nbsp;&nbsp;ENABLED</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">ENABLE to make the B-Device run a HNP automatically if a SetFeature(b_hnp_enable) is received and Suspend detected.  <a href="#g958ae5b13ce0ccaa994cf2f9749c9f01"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00079.html#g1d9925f16d29619c8197e1c47a17746f">OTG_RESET_LENGTH</a>&nbsp;&nbsp;&nbsp;1</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Selects the Reset Length (x11ms).  <a href="#g1d9925f16d29619c8197e1c47a17746f"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00079.html#gf645814f26ac3b70c327de98beffb111">MSG_DISPLAY_NODELAY</a>&nbsp;&nbsp;&nbsp;0xFFFF</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">OTG Messaging definitions "No Silent Failure" rule makes any OTG compliant device handle messaging functions Differents means are supported : LCD display, LEDs, etc.  <a href="#gf645814f26ac3b70c327de98beffb111"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00079.html#ged2ab7872b84a1e98d2983405df65874">OTG_TEMPO_1SEC</a>&nbsp;&nbsp;&nbsp;0x01F4</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00079.html#g55bc610734745ea7985a77d8ceb3a563">OTG_TEMPO_2SEC</a>&nbsp;&nbsp;&nbsp;0x03E8</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00079.html#g23e9246d5204e4c72b074684898222a8">OTG_TEMPO_3SEC</a>&nbsp;&nbsp;&nbsp;0x05DC</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00079.html#g2f2ff5221e51bee4ef93c0dabb004b49">OTG_TEMPO_4SEC</a>&nbsp;&nbsp;&nbsp;0x07D0</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00079.html#gf1f9810e0c48ae19acda007ecb03d1bc">OTR_TEMPO_5SEC</a>&nbsp;&nbsp;&nbsp;0x09C4</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00079.html#ga17756ba49166be261cff7ca12a09260">OTGMSG_SRP_STARTED</a>&nbsp;&nbsp;&nbsp;1</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00079.html#g4e337c44fd13c3b9eccffaf9942c8468">OTGMSG_SRP_A_NO_RESP</a>&nbsp;&nbsp;&nbsp;2</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00079.html#g21a8f3aef6565b4b06e9b0c608baf38f">OTGMSG_A_RESPONDED</a>&nbsp;&nbsp;&nbsp;3</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00079.html#g7d4b2461fcaddb24b221faf6cdaf1dfa">OTGMSG_CONNECTED_TO_A</a>&nbsp;&nbsp;&nbsp;4</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00079.html#g7067f94569d85025bc7b96de7cdc61e8">OTGMSG_UNSUPPORTED</a>&nbsp;&nbsp;&nbsp;5</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00079.html#g187d3c9af64a3a091dcffac380cf5c8b">OTGMSG_UNSUPPORTED_HUB</a>&nbsp;&nbsp;&nbsp;6</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00079.html#g1d84767891516dda61b0933ed3153064">OTGMSG_SRP_RECEIVED</a>&nbsp;&nbsp;&nbsp;7</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00079.html#g198a708d01704942ccf4947e18fa5b5d">OTGMSG_DEVICE_NO_RESP</a>&nbsp;&nbsp;&nbsp;8</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00079.html#g24c04a80519f175d584001976c306dee">OTGMSG_VBUS_SURCHARGE</a>&nbsp;&nbsp;&nbsp;9</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00079.html#g42b92a5c9f3dc4d93db21f6b610ce0c9">OTGSTR_SRP_STARTED</a>&nbsp;&nbsp;&nbsp;&quot;SRP Initiated     &quot;</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00079.html#ga18e376e0f7d23d41bbc01e3ca14608d">OTGSTR_SRP_A_NO_RESP</a>&nbsp;&nbsp;&nbsp;&quot;A-Dev No Response &quot;</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00079.html#ga10c7c4aa4a65e6936c231be8012aa15">OTGSTR_A_RESPONDED</a>&nbsp;&nbsp;&nbsp;&quot;A-Device Responded&quot;</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00079.html#gbdd6da72bb6fb87c88a442e4a60cb54b">OTGSTR_CONNECTED_TO_A</a>&nbsp;&nbsp;&nbsp;&quot;Connected to A-Dev&quot;</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00079.html#g85a54ca79973d29ac87cfefbc0969c23">OTGSTR_UNSUPPORTED</a>&nbsp;&nbsp;&nbsp;&quot;Unsupported Device&quot;</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00079.html#gc6a0a5aba90956ac19971700f2258dbe">OTGSTR_UNSUPPORTED_HUB</a>&nbsp;&nbsp;&nbsp;&quot;Hub Unsuppported  &quot;</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00079.html#g8d03284a0543565891da5d3e4493c9c3">OTGSTR_SRP_RECEIVED</a>&nbsp;&nbsp;&nbsp;&quot;SRP Received      &quot;</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00079.html#g828cace3d5c4b84804e1e4989920c17e">OTGSTR_DEVICE_NO_RESP</a>&nbsp;&nbsp;&nbsp;&quot;Device No Response&quot;</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00079.html#gcd6890885fce2d40d60048afc6149423">OTGSTR_VBUS_SURCHARGE</a>&nbsp;&nbsp;&nbsp;&quot;VBUS OverCurrent !&quot;</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00079.html#gaf34ab7992d4c510f649b53fb22a0d24">OTGMSG_NONE</a>&nbsp;&nbsp;&nbsp;0</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00079.html#g2144b17afeedc6b99a96a1970fa2ae38">OTGMSG_FAIL</a>&nbsp;&nbsp;&nbsp;1</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00079.html#gf2bf9352679db9246a1d9e775a208799">OTGMSG_ALL</a>&nbsp;&nbsp;&nbsp;2</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00079.html#gf9561bc736a2b1cc6e3cce4d948c774d">Otg_messaging_init</a>()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00079.html#g873c07ae6b1030cfc07a2dbf963067e0">Otg_print_new_event_message</a>(str, tm)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00079.html#g37e6f00a171ec8f328f7e654bd4f15b5">Otg_clear_event_message</a>()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00079.html#g64f198a9e7ea135cbda6ffc54ac30857">Get_event_msg_delay</a>()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00079.html#gc7dbc5229e2de79913256f69c2cd19c7">Decrement_event_msg_delay</a>()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00079.html#g97525df033e58673ffb2a5a7c796c1cf">Otg_print_new_failure_message</a>(str, tm)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00079.html#g0b2ea414692d720c71b28dc3c86035f1">Otg_clear_failure_message</a>()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00079.html#gf92278130b54fd0fdcac29b1517c99e5">Get_failure_msg_delay</a>()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00079.html#g5df7080c626c9301e93e626c80360959">Decrement_failure_msg_delay</a>()</td></tr>

<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00079.html#g3f12a1a1edad96df977ce6cf9cc2e334">usb_task_init</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This function initializes the USB proces.  <a href="#g3f12a1a1edad96df977ce6cf9cc2e334"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00079.html#gcfc13a32887382f69c46749dad1afa45">usb_task</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Entry point of the USB mamnagement.  <a href="#gcfc13a32887382f69c46749dad1afa45"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00079.html#gf4cdcb0d1d7bebb254bb66a1c3212a89">otg_not_supported_device</a> (void)</td></tr>

<tr><td colspan="2"><br><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">volatile <a class="el" href="a00018.html#df928e51a60dba0df29d615401cc55a8">U16</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00079.html#g7ac443ad2b3af51ce54d49d689acce3b">g_usb_event</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Public : U16 g_usb_event usb_connected is used to store USB events detected upon USB general interrupt subroutine Its value is managed by the following macros (See <a class="el" href="a00049.html" title="This file contains the function declarations.">usb_task.h</a> file) <a class="el" href="a00080.html#g5a10a90b40c67b40f448c91d8a29abd5">Usb_send_event(x)</a> <a class="el" href="a00080.html#g41da8b1e05449acf720091b1cab8cb3f">Usb_ack_event(x)</a> <a class="el" href="a00080.html#gbd7e6a26ac11daf279b07563e3b6dc11">Usb_clear_all_event()</a> <a class="el" href="a00080.html#g7c9320480ef6ad04fa7ecc5fbe46794d">Is_usb_event(x)</a> <a class="el" href="a00080.html#g3da7d8904c82c9c2e4e8cd9f1bdb54e0">Is_not_usb_event(x)</a>.  <a href="#g7ac443ad2b3af51ce54d49d689acce3b"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="a00018.html#3cb25ca6f51f003950f9625ff05536fc">U8</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00079.html#g15f9a9a8d1f9d6e6f4004f586453fc4d">g_usb_mode</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Public : (U8) g_usb_mode Used in dual role application (both device/host) to store the current mode the usb controller is operating /.  <a href="#g15f9a9a8d1f9d6e6f4004f586453fc4d"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="a00018.html#3cb25ca6f51f003950f9625ff05536fc">U8</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00079.html#gb70750a511e2422aab0bfb21e4aede72">remote_wakeup_feature</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Public : (U8) remote_wakeup_feature Store a host request for remote wake up (set feature received) /.  <a href="#gb70750a511e2422aab0bfb21e4aede72"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">volatile <a class="el" href="a00018.html#3cb25ca6f51f003950f9625ff05536fc">U8</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00079.html#g0c2e3155e09f806dabe53eb565747313">private_sof_counter</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Private : (U8) private_sof_counter Incremented by host SOF interrupt subroutime This counter is used to detect timeout in host requests.  <a href="#g0c2e3155e09f806dabe53eb565747313"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">volatile <a class="el" href="a00018.html#3cb25ca6f51f003950f9625ff05536fc">U8</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00079.html#ga108ba97a9cc1691ae3a9b894f5c7dcc">otg_features_supported</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">External public declarations for OTG features.  <a href="#ga108ba97a9cc1691ae3a9b894f5c7dcc"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="a00018.html#3cb25ca6f51f003950f9625ff05536fc">U8</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00079.html#g661a265ea70a7557ab2a40647d3738d8">otg_user_request</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">volatile <a class="el" href="a00018.html#df928e51a60dba0df29d615401cc55a8">U16</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00079.html#gce21bb8a6bb44b664270db9b6e396ce0">g_otg_event</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="a00018.html#3cb25ca6f51f003950f9625ff05536fc">U8</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00079.html#gcf24d6ef5c550a58164bebed491869cf">id_changed_to_host_event</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="a00018.html#df928e51a60dba0df29d615401cc55a8">U16</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00079.html#ge9903511f0fd6f0ebf07c9746f952815">otg_msg_event_delay</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="a00018.html#df928e51a60dba0df29d615401cc55a8">U16</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00079.html#ga7c73d24072540bc07acf2d18f2ae576">otg_msg_failure_delay</a></td></tr>

</table>
<hr><h2>Define Documentation</h2>
<a class="anchor" name="g01a1049d9451711287e470a436a10205"></a><!-- doxytag: member="usb_task.h::USB_MODE_UNDEFINED" ref="g01a1049d9451711287e470a436a10205" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define USB_MODE_UNDEFINED&nbsp;&nbsp;&nbsp;0x00          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="a00134.html#l00092">92</a> of file <a class="el" href="a00134.html">usb_task.h</a>.</p>

<p>Referenced by <a class="el" href="a00133.html#l00238">usb_task()</a>, and <a class="el" href="a00133.html#l00177">usb_task_init()</a>.</p>

</div>
</div><p>
<a class="anchor" name="g0322da46e441ec8a861ae3eb2cec9bf0"></a><!-- doxytag: member="usb_task.h::USB_MODE_HOST" ref="g0322da46e441ec8a861ae3eb2cec9bf0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define USB_MODE_HOST&nbsp;&nbsp;&nbsp;0x01          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="a00134.html#l00093">93</a> of file <a class="el" href="a00134.html">usb_task.h</a>.</p>

<p>Referenced by <a class="el" href="a00133.html#l00352">usb_general_interrupt()</a>, <a class="el" href="a00133.html#l00238">usb_task()</a>, and <a class="el" href="a00133.html#l00177">usb_task_init()</a>.</p>

</div>
</div><p>
<a class="anchor" name="g673fc2cbe441f3f8e252171b9548cfd3"></a><!-- doxytag: member="usb_task.h::USB_MODE_DEVICE" ref="g673fc2cbe441f3f8e252171b9548cfd3" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define USB_MODE_DEVICE&nbsp;&nbsp;&nbsp;0x02          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="a00134.html#l00094">94</a> of file <a class="el" href="a00134.html">usb_task.h</a>.</p>

<p>Referenced by <a class="el" href="a00133.html#l00352">usb_general_interrupt()</a>, <a class="el" href="a00133.html#l00238">usb_task()</a>, and <a class="el" href="a00133.html#l00177">usb_task_init()</a>.</p>

</div>
</div><p>
<a class="anchor" name="g38834ea42f88aab2725511a09e26b24f"></a><!-- doxytag: member="usb_task.h::VBUS_PULSE" ref="g38834ea42f88aab2725511a09e26b24f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VBUS_PULSE&nbsp;&nbsp;&nbsp;1          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="a00134.html#l00097">97</a> of file <a class="el" href="a00134.html">usb_task.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="gf017cca531fc89b00b30b89919ccf31b"></a><!-- doxytag: member="usb_task.h::DATA_PULSE" ref="gf017cca531fc89b00b30b89919ccf31b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DATA_PULSE&nbsp;&nbsp;&nbsp;0          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="a00134.html#l00098">98</a> of file <a class="el" href="a00134.html">usb_task.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="ge82dba9d346625287881116b8a65649c"></a><!-- doxytag: member="usb_task.h::BDEV_HNP_NB_RETRY" ref="ge82dba9d346625287881116b8a65649c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BDEV_HNP_NB_RETRY&nbsp;&nbsp;&nbsp;3          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="a00134.html#l00100">100</a> of file <a class="el" href="a00134.html">usb_task.h</a>.</p>

<p>Referenced by <a class="el" href="a00131.html#l00434">usb_set_feature()</a>.</p>

</div>
</div><p>
<a class="anchor" name="g5f4509f731ddcedbf064c498203c239b"></a><!-- doxytag: member="usb_task.h::USER_RQST_SRP" ref="g5f4509f731ddcedbf064c498203c239b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define USER_RQST_SRP&nbsp;&nbsp;&nbsp;0x01          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Definitions of OTG user requests (user software requests). 
<p>

<p>Definition at line <a class="el" href="a00134.html#l00107">107</a> of file <a class="el" href="a00134.html">usb_task.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="g46feaaa876409732d27eb05cf922fbe0"></a><!-- doxytag: member="usb_task.h::USER_RQST_SUSPEND" ref="g46feaaa876409732d27eb05cf922fbe0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define USER_RQST_SUSPEND&nbsp;&nbsp;&nbsp;0x02          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="a00134.html#l00108">108</a> of file <a class="el" href="a00134.html">usb_task.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="g62a8915a5fd24a561cdcb9eb7fc19757"></a><!-- doxytag: member="usb_task.h::USER_RQST_VBUS" ref="g62a8915a5fd24a561cdcb9eb7fc19757" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define USER_RQST_VBUS&nbsp;&nbsp;&nbsp;0x04          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="a00134.html#l00109">109</a> of file <a class="el" href="a00134.html">usb_task.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="g6f4554b516653de65f96c7f45e1b8d07"></a><!-- doxytag: member="usb_task.h::USER_RQST_HNP" ref="g6f4554b516653de65f96c7f45e1b8d07" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define USER_RQST_HNP&nbsp;&nbsp;&nbsp;0x08          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="a00134.html#l00110">110</a> of file <a class="el" href="a00134.html">usb_task.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="g1196e1a7e1bdf30b1b83e13e2219b3dc"></a><!-- doxytag: member="usb_task.h::USER_RQST_RESUME" ref="g1196e1a7e1bdf30b1b83e13e2219b3dc" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define USER_RQST_RESUME&nbsp;&nbsp;&nbsp;0x10          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="a00134.html#l00111">111</a> of file <a class="el" href="a00134.html">usb_task.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="g841fae8d0fe3ae835af1aa5873dbcc27"></a><!-- doxytag: member="usb_task.h::USER_RQST_RESET" ref="g841fae8d0fe3ae835af1aa5873dbcc27" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define USER_RQST_RESET&nbsp;&nbsp;&nbsp;0x20          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="a00134.html#l00112">112</a> of file <a class="el" href="a00134.html">usb_task.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="ge70fb46d50d8617fd9345f15a2c10772"></a><!-- doxytag: member="usb_task.h::USER_RQST_DISCONNECT" ref="ge70fb46d50d8617fd9345f15a2c10772" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define USER_RQST_DISCONNECT&nbsp;&nbsp;&nbsp;0x40          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="a00134.html#l00113">113</a> of file <a class="el" href="a00134.html">usb_task.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="gf7cbbf3a6b736a3421b1d9074e3b5502"></a><!-- doxytag: member="usb_task.h::Is_user_requested_srp" ref="gf7cbbf3a6b736a3421b1d9074e3b5502" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define Is_user_requested_srp          </td>
          <td>(</td>
&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;(((<a class="el" href="a00079.html#g661a265ea70a7557ab2a40647d3738d8">otg_user_request</a>&amp;USER_RQST_SRP) != 0) ? TRUE : FALSE)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="a00134.html#l00116">116</a> of file <a class="el" href="a00134.html">usb_task.h</a>.</p>

<p>Referenced by <a class="el" href="a00123.html#l00189">usb_device_task()</a>.</p>

</div>
</div><p>
<a class="anchor" name="ge34906a3a941652675dbc3f7cb4090dd"></a><!-- doxytag: member="usb_task.h::Set_user_request_srp" ref="ge34906a3a941652675dbc3f7cb4090dd" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define Set_user_request_srp          </td>
          <td>(</td>
&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;(<a class="el" href="a00079.html#g661a265ea70a7557ab2a40647d3738d8">otg_user_request</a> |= USER_RQST_SRP)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="a00134.html#l00117">117</a> of file <a class="el" href="a00134.html">usb_task.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="g2ea6ddaa6c51323e0d1d994bb0e0c051"></a><!-- doxytag: member="usb_task.h::Ack_user_request_srp" ref="g2ea6ddaa6c51323e0d1d994bb0e0c051" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define Ack_user_request_srp          </td>
          <td>(</td>
&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;(<a class="el" href="a00079.html#g661a265ea70a7557ab2a40647d3738d8">otg_user_request</a> &amp;= ~USER_RQST_SRP)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="a00134.html#l00118">118</a> of file <a class="el" href="a00134.html">usb_task.h</a>.</p>

<p>Referenced by <a class="el" href="a00123.html#l00189">usb_device_task()</a>.</p>

</div>
</div><p>
<a class="anchor" name="g13689f58bf67613dc3c70bdda07970c4"></a><!-- doxytag: member="usb_task.h::Is_user_requested_suspend" ref="g13689f58bf67613dc3c70bdda07970c4" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define Is_user_requested_suspend          </td>
          <td>(</td>
&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;(((<a class="el" href="a00079.html#g661a265ea70a7557ab2a40647d3738d8">otg_user_request</a>&amp;USER_RQST_SUSPEND) != 0) ? TRUE : FALSE)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="a00134.html#l00121">121</a> of file <a class="el" href="a00134.html">usb_task.h</a>.</p>

<p>Referenced by <a class="el" href="a00123.html#l00189">usb_device_task()</a>.</p>

</div>
</div><p>
<a class="anchor" name="g0faf4b373b381635b98485641f2d99aa"></a><!-- doxytag: member="usb_task.h::Set_user_request_suspend" ref="g0faf4b373b381635b98485641f2d99aa" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define Set_user_request_suspend          </td>
          <td>(</td>
&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;(<a class="el" href="a00079.html#g661a265ea70a7557ab2a40647d3738d8">otg_user_request</a> |= USER_RQST_SUSPEND)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="a00134.html#l00122">122</a> of file <a class="el" href="a00134.html">usb_task.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="g29e62b13d515bc35dfa73ea948245465"></a><!-- doxytag: member="usb_task.h::Ack_user_request_suspend" ref="g29e62b13d515bc35dfa73ea948245465" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define Ack_user_request_suspend          </td>
          <td>(</td>
&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;(<a class="el" href="a00079.html#g661a265ea70a7557ab2a40647d3738d8">otg_user_request</a> &amp;= ~USER_RQST_SUSPEND)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="a00134.html#l00123">123</a> of file <a class="el" href="a00134.html">usb_task.h</a>.</p>

<p>Referenced by <a class="el" href="a00123.html#l00189">usb_device_task()</a>.</p>

</div>
</div><p>
<a class="anchor" name="g20a1985227bc625f42971c3642515f05"></a><!-- doxytag: member="usb_task.h::Is_user_requested_vbus" ref="g20a1985227bc625f42971c3642515f05" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define Is_user_requested_vbus          </td>
          <td>(</td>
&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;(((<a class="el" href="a00079.html#g661a265ea70a7557ab2a40647d3738d8">otg_user_request</a>&amp;USER_RQST_VBUS) != 0) ? TRUE : FALSE)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="a00134.html#l00126">126</a> of file <a class="el" href="a00134.html">usb_task.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="gdb22e172886c28d33ac85db2a9afa6c1"></a><!-- doxytag: member="usb_task.h::Set_user_request_vbus" ref="gdb22e172886c28d33ac85db2a9afa6c1" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define Set_user_request_vbus          </td>
          <td>(</td>
&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;(<a class="el" href="a00079.html#g661a265ea70a7557ab2a40647d3738d8">otg_user_request</a> |= USER_RQST_VBUS)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="a00134.html#l00127">127</a> of file <a class="el" href="a00134.html">usb_task.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="g5638ef9d7193ac4123fa71089249efc2"></a><!-- doxytag: member="usb_task.h::Ack_user_request_vbus" ref="g5638ef9d7193ac4123fa71089249efc2" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define Ack_user_request_vbus          </td>
          <td>(</td>
&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;(<a class="el" href="a00079.html#g661a265ea70a7557ab2a40647d3738d8">otg_user_request</a> &amp;= ~USER_RQST_VBUS)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="a00134.html#l00128">128</a> of file <a class="el" href="a00134.html">usb_task.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="gb929946347814d361ce5826517c70654"></a><!-- doxytag: member="usb_task.h::Is_user_requested_hnp" ref="gb929946347814d361ce5826517c70654" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define Is_user_requested_hnp          </td>
          <td>(</td>
&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;(((<a class="el" href="a00079.html#g661a265ea70a7557ab2a40647d3738d8">otg_user_request</a>&amp;USER_RQST_HNP) != 0) ? TRUE : FALSE)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="a00134.html#l00131">131</a> of file <a class="el" href="a00134.html">usb_task.h</a>.</p>

<p>Referenced by <a class="el" href="a00123.html#l00189">usb_device_task()</a>.</p>

</div>
</div><p>
<a class="anchor" name="gafb0d666bec1fdc85cb12bfd6cfc2eb6"></a><!-- doxytag: member="usb_task.h::Set_user_request_hnp" ref="gafb0d666bec1fdc85cb12bfd6cfc2eb6" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define Set_user_request_hnp          </td>
          <td>(</td>
&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;(<a class="el" href="a00079.html#g661a265ea70a7557ab2a40647d3738d8">otg_user_request</a> |= USER_RQST_HNP)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="a00134.html#l00132">132</a> of file <a class="el" href="a00134.html">usb_task.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="gb6a6431c2da40c8c00a379fe7737251d"></a><!-- doxytag: member="usb_task.h::Ack_user_request_hnp" ref="gb6a6431c2da40c8c00a379fe7737251d" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define Ack_user_request_hnp          </td>
          <td>(</td>
&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;(<a class="el" href="a00079.html#g661a265ea70a7557ab2a40647d3738d8">otg_user_request</a> &amp;= ~USER_RQST_HNP)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="a00134.html#l00133">133</a> of file <a class="el" href="a00134.html">usb_task.h</a>.</p>

<p>Referenced by <a class="el" href="a00123.html#l00189">usb_device_task()</a>.</p>

</div>
</div><p>
<a class="anchor" name="g0048cb6b3f4d016c6171235bdc2a3631"></a><!-- doxytag: member="usb_task.h::Is_user_requested_disc" ref="g0048cb6b3f4d016c6171235bdc2a3631" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define Is_user_requested_disc          </td>
          <td>(</td>
&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;(((<a class="el" href="a00079.html#g661a265ea70a7557ab2a40647d3738d8">otg_user_request</a>&amp;USER_RQST_DISCONNECT) != 0) ? TRUE : FALSE)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="a00134.html#l00136">136</a> of file <a class="el" href="a00134.html">usb_task.h</a>.</p>

<p>Referenced by <a class="el" href="a00123.html#l00189">usb_device_task()</a>.</p>

</div>
</div><p>
<a class="anchor" name="ga0583d7c6df12d342d7f4bd3164f23fb"></a><!-- doxytag: member="usb_task.h::Set_user_request_disc" ref="ga0583d7c6df12d342d7f4bd3164f23fb" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define Set_user_request_disc          </td>
          <td>(</td>
&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;(<a class="el" href="a00079.html#g661a265ea70a7557ab2a40647d3738d8">otg_user_request</a> |= USER_RQST_DISCONNECT)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="a00134.html#l00137">137</a> of file <a class="el" href="a00134.html">usb_task.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="g930494da83c0ad0ff8c560220ddb27ca"></a><!-- doxytag: member="usb_task.h::Ack_user_request_disc" ref="g930494da83c0ad0ff8c560220ddb27ca" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define Ack_user_request_disc          </td>
          <td>(</td>
&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;(<a class="el" href="a00079.html#g661a265ea70a7557ab2a40647d3738d8">otg_user_request</a> &amp;= ~USER_RQST_DISCONNECT)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="a00134.html#l00138">138</a> of file <a class="el" href="a00134.html">usb_task.h</a>.</p>

<p>Referenced by <a class="el" href="a00123.html#l00189">usb_device_task()</a>.</p>

</div>
</div><p>
<a class="anchor" name="ga7cb723a3cba0ad69265420daaa618a9"></a><!-- doxytag: member="usb_task.h::Clear_all_user_request" ref="ga7cb723a3cba0ad69265420daaa618a9" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define Clear_all_user_request          </td>
          <td>(</td>
&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;(<a class="el" href="a00079.html#g661a265ea70a7557ab2a40647d3738d8">otg_user_request</a> = 0)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="a00134.html#l00153">153</a> of file <a class="el" href="a00134.html">usb_task.h</a>.</p>

<p>Referenced by <a class="el" href="a00123.html#l00189">usb_device_task()</a>.</p>

</div>
</div><p>
<a class="anchor" name="g511d39ad0992067396d6233f0495b3dc"></a><!-- doxytag: member="usb_task.h::Otg_timer_init" ref="g511d39ad0992067396d6233f0495b3dc" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define Otg_timer_init          </td>
          <td>(</td>
&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<b>Value:</b><div class="fragment"><pre class="fragment">(Timer16_select(OTG_USE_TIMER), Timer16_set_clock(TIMER16_CLKIO_BY_256), \
                                       Timer16_set_mode_output_a(TIMER16_COMP_MODE_NORMAL), \
                                       Timer16_set_waveform_mode(TIMER16_WGM_CTC_OCR), \
                                       Timer16_set_compare_a(62), Timer16_set_counter(0x0000), \
                                       Timer16_clear_compare_a_it(), Timer16_compare_a_it_enable())
</pre></div>This macro initializes the timer for OTG specific timings. 
<p>
The corresponding timer is selected in <a class="el" href="a00020.html" title="This file contains the possible external configuration of the USB.">conf_usb.h</a> An IT is launched every 2ms when CPU runned at 8 MHz<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>none</em>&nbsp;</td><td></td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>none </dd></dl>

<p>Definition at line <a class="el" href="a00134.html#l00166">166</a> of file <a class="el" href="a00134.html">usb_task.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="gb396d57646dd0b4ea715b216a8e02554"></a><!-- doxytag: member="usb_task.h::OTG_COMPLIANCE_TRICKS" ref="gb396d57646dd0b4ea715b216a8e02554" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OTG_COMPLIANCE_TRICKS&nbsp;&nbsp;&nbsp;DISABLED          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Enable some additionnal feature to pass compliance plan. 
<p>
This feature must be ENABLED to pass the OTG compliance program (FS-A-UUT tests TD4.5-2.9ms and TD4.6) Possible values are : ENABLE to add a special feature to OTG firmware : the problem comes from the disconnection delay of A-PERIPH once it has detected a Suspend condition. This delay is 3ms, but compliance test is not enough precise. This feature waits 500µs freezing clock when it notices that SOF are missing DISABLE to disable this feature (that may lead to malfunction in original cases) 
<p>Definition at line <a class="el" href="a00134.html#l00235">235</a> of file <a class="el" href="a00134.html">usb_task.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="g11ff8219dd57b28cf46d181af4e279f5"></a><!-- doxytag: member="usb_task.h::OTG_VBUS_AUTO_AFTER_A_PLUG_INSERTION" ref="g11ff8219dd57b28cf46d181af4e279f5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OTG_VBUS_AUTO_AFTER_A_PLUG_INSERTION&nbsp;&nbsp;&nbsp;DISABLED          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Selects a Vbus delivery option. 
<p>
This feature must be ENABLED to pass the OTG compliance program (Checklist OTG Protocol P23/P24) Possible values are : ENABLE to make the application initiate a session (like an answer to SRP) once A-plug inserted DISABLE to disable this feature This feature is compatible with OTG_VBUS_AUTO_WHEN_A_PLUG feature disabled 
<p>Definition at line <a class="el" href="a00134.html#l00245">245</a> of file <a class="el" href="a00134.html">usb_task.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="g958ae5b13ce0ccaa994cf2f9749c9f01"></a><!-- doxytag: member="usb_task.h::OTG_B_DEVICE_AUTORUN_HNP_IF_REQUIRED" ref="g958ae5b13ce0ccaa994cf2f9749c9f01" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OTG_B_DEVICE_AUTORUN_HNP_IF_REQUIRED&nbsp;&nbsp;&nbsp;ENABLED          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
ENABLE to make the B-Device run a HNP automatically if a SetFeature(b_hnp_enable) is received and Suspend detected. 
<p>
This feature must be ENABLED to pass the OTG compliance program Possible values ENABLE or DISABLE 
<p>Definition at line <a class="el" href="a00134.html#l00253">253</a> of file <a class="el" href="a00134.html">usb_task.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="g1d9925f16d29619c8197e1c47a17746f"></a><!-- doxytag: member="usb_task.h::OTG_RESET_LENGTH" ref="g1d9925f16d29619c8197e1c47a17746f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OTG_RESET_LENGTH&nbsp;&nbsp;&nbsp;1          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Selects the Reset Length (x11ms). 
<p>
This value is the number of consecutives Reset sent by the Host 
<p>Definition at line <a class="el" href="a00134.html#l00260">260</a> of file <a class="el" href="a00134.html">usb_task.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="gf645814f26ac3b70c327de98beffb111"></a><!-- doxytag: member="usb_task.h::MSG_DISPLAY_NODELAY" ref="gf645814f26ac3b70c327de98beffb111" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MSG_DISPLAY_NODELAY&nbsp;&nbsp;&nbsp;0xFFFF          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
OTG Messaging definitions "No Silent Failure" rule makes any OTG compliant device handle messaging functions Differents means are supported : LCD display, LEDs, etc. 
<p>

<p>Definition at line <a class="el" href="a00134.html#l00269">269</a> of file <a class="el" href="a00134.html">usb_task.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="ged2ab7872b84a1e98d2983405df65874"></a><!-- doxytag: member="usb_task.h::OTG_TEMPO_1SEC" ref="ged2ab7872b84a1e98d2983405df65874" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OTG_TEMPO_1SEC&nbsp;&nbsp;&nbsp;0x01F4          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="a00134.html#l00270">270</a> of file <a class="el" href="a00134.html">usb_task.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="g55bc610734745ea7985a77d8ceb3a563"></a><!-- doxytag: member="usb_task.h::OTG_TEMPO_2SEC" ref="g55bc610734745ea7985a77d8ceb3a563" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OTG_TEMPO_2SEC&nbsp;&nbsp;&nbsp;0x03E8          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="a00134.html#l00271">271</a> of file <a class="el" href="a00134.html">usb_task.h</a>.</p>

<p>Referenced by <a class="el" href="a00123.html#l00189">usb_device_task()</a>.</p>

</div>
</div><p>
<a class="anchor" name="g23e9246d5204e4c72b074684898222a8"></a><!-- doxytag: member="usb_task.h::OTG_TEMPO_3SEC" ref="g23e9246d5204e4c72b074684898222a8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OTG_TEMPO_3SEC&nbsp;&nbsp;&nbsp;0x05DC          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="a00134.html#l00272">272</a> of file <a class="el" href="a00134.html">usb_task.h</a>.</p>

<p>Referenced by <a class="el" href="a00123.html#l00189">usb_device_task()</a>.</p>

</div>
</div><p>
<a class="anchor" name="g2f2ff5221e51bee4ef93c0dabb004b49"></a><!-- doxytag: member="usb_task.h::OTG_TEMPO_4SEC" ref="g2f2ff5221e51bee4ef93c0dabb004b49" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OTG_TEMPO_4SEC&nbsp;&nbsp;&nbsp;0x07D0          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="a00134.html#l00273">273</a> of file <a class="el" href="a00134.html">usb_task.h</a>.</p>

<p>Referenced by <a class="el" href="a00123.html#l00189">usb_device_task()</a>.</p>

</div>
</div><p>
<a class="anchor" name="gf1f9810e0c48ae19acda007ecb03d1bc"></a><!-- doxytag: member="usb_task.h::OTR_TEMPO_5SEC" ref="gf1f9810e0c48ae19acda007ecb03d1bc" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OTR_TEMPO_5SEC&nbsp;&nbsp;&nbsp;0x09C4          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="a00134.html#l00274">274</a> of file <a class="el" href="a00134.html">usb_task.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="ga17756ba49166be261cff7ca12a09260"></a><!-- doxytag: member="usb_task.h::OTGMSG_SRP_STARTED" ref="ga17756ba49166be261cff7ca12a09260" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OTGMSG_SRP_STARTED&nbsp;&nbsp;&nbsp;1          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="a00134.html#l00277">277</a> of file <a class="el" href="a00134.html">usb_task.h</a>.</p>

<p>Referenced by <a class="el" href="a00123.html#l00189">usb_device_task()</a>.</p>

</div>
</div><p>
<a class="anchor" name="g4e337c44fd13c3b9eccffaf9942c8468"></a><!-- doxytag: member="usb_task.h::OTGMSG_SRP_A_NO_RESP" ref="g4e337c44fd13c3b9eccffaf9942c8468" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OTGMSG_SRP_A_NO_RESP&nbsp;&nbsp;&nbsp;2          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="a00134.html#l00278">278</a> of file <a class="el" href="a00134.html">usb_task.h</a>.</p>

<p>Referenced by <a class="el" href="a00123.html#l00189">usb_device_task()</a>.</p>

</div>
</div><p>
<a class="anchor" name="g21a8f3aef6565b4b06e9b0c608baf38f"></a><!-- doxytag: member="usb_task.h::OTGMSG_A_RESPONDED" ref="g21a8f3aef6565b4b06e9b0c608baf38f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OTGMSG_A_RESPONDED&nbsp;&nbsp;&nbsp;3          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="a00134.html#l00279">279</a> of file <a class="el" href="a00134.html">usb_task.h</a>.</p>

<p>Referenced by <a class="el" href="a00123.html#l00189">usb_device_task()</a>.</p>

</div>
</div><p>
<a class="anchor" name="g7d4b2461fcaddb24b221faf6cdaf1dfa"></a><!-- doxytag: member="usb_task.h::OTGMSG_CONNECTED_TO_A" ref="g7d4b2461fcaddb24b221faf6cdaf1dfa" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OTGMSG_CONNECTED_TO_A&nbsp;&nbsp;&nbsp;4          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="a00134.html#l00280">280</a> of file <a class="el" href="a00134.html">usb_task.h</a>.</p>

<p>Referenced by <a class="el" href="a00123.html#l00189">usb_device_task()</a>.</p>

</div>
</div><p>
<a class="anchor" name="g7067f94569d85025bc7b96de7cdc61e8"></a><!-- doxytag: member="usb_task.h::OTGMSG_UNSUPPORTED" ref="g7067f94569d85025bc7b96de7cdc61e8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OTGMSG_UNSUPPORTED&nbsp;&nbsp;&nbsp;5          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="a00134.html#l00281">281</a> of file <a class="el" href="a00134.html">usb_task.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="g187d3c9af64a3a091dcffac380cf5c8b"></a><!-- doxytag: member="usb_task.h::OTGMSG_UNSUPPORTED_HUB" ref="g187d3c9af64a3a091dcffac380cf5c8b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OTGMSG_UNSUPPORTED_HUB&nbsp;&nbsp;&nbsp;6          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="a00134.html#l00282">282</a> of file <a class="el" href="a00134.html">usb_task.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="g1d84767891516dda61b0933ed3153064"></a><!-- doxytag: member="usb_task.h::OTGMSG_SRP_RECEIVED" ref="g1d84767891516dda61b0933ed3153064" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OTGMSG_SRP_RECEIVED&nbsp;&nbsp;&nbsp;7          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="a00134.html#l00283">283</a> of file <a class="el" href="a00134.html">usb_task.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="g198a708d01704942ccf4947e18fa5b5d"></a><!-- doxytag: member="usb_task.h::OTGMSG_DEVICE_NO_RESP" ref="g198a708d01704942ccf4947e18fa5b5d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OTGMSG_DEVICE_NO_RESP&nbsp;&nbsp;&nbsp;8          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="a00134.html#l00284">284</a> of file <a class="el" href="a00134.html">usb_task.h</a>.</p>

<p>Referenced by <a class="el" href="a00123.html#l00189">usb_device_task()</a>.</p>

</div>
</div><p>
<a class="anchor" name="g24c04a80519f175d584001976c306dee"></a><!-- doxytag: member="usb_task.h::OTGMSG_VBUS_SURCHARGE" ref="g24c04a80519f175d584001976c306dee" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OTGMSG_VBUS_SURCHARGE&nbsp;&nbsp;&nbsp;9          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="a00134.html#l00285">285</a> of file <a class="el" href="a00134.html">usb_task.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="g42b92a5c9f3dc4d93db21f6b610ce0c9"></a><!-- doxytag: member="usb_task.h::OTGSTR_SRP_STARTED" ref="g42b92a5c9f3dc4d93db21f6b610ce0c9" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OTGSTR_SRP_STARTED&nbsp;&nbsp;&nbsp;&quot;SRP Initiated     &quot;          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="a00134.html#l00288">288</a> of file <a class="el" href="a00134.html">usb_task.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="ga18e376e0f7d23d41bbc01e3ca14608d"></a><!-- doxytag: member="usb_task.h::OTGSTR_SRP_A_NO_RESP" ref="ga18e376e0f7d23d41bbc01e3ca14608d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OTGSTR_SRP_A_NO_RESP&nbsp;&nbsp;&nbsp;&quot;A-Dev No Response &quot;          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="a00134.html#l00289">289</a> of file <a class="el" href="a00134.html">usb_task.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="ga10c7c4aa4a65e6936c231be8012aa15"></a><!-- doxytag: member="usb_task.h::OTGSTR_A_RESPONDED" ref="ga10c7c4aa4a65e6936c231be8012aa15" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OTGSTR_A_RESPONDED&nbsp;&nbsp;&nbsp;&quot;A-Device Responded&quot;          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="a00134.html#l00290">290</a> of file <a class="el" href="a00134.html">usb_task.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="gbdd6da72bb6fb87c88a442e4a60cb54b"></a><!-- doxytag: member="usb_task.h::OTGSTR_CONNECTED_TO_A" ref="gbdd6da72bb6fb87c88a442e4a60cb54b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OTGSTR_CONNECTED_TO_A&nbsp;&nbsp;&nbsp;&quot;Connected to A-Dev&quot;          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="a00134.html#l00291">291</a> of file <a class="el" href="a00134.html">usb_task.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="g85a54ca79973d29ac87cfefbc0969c23"></a><!-- doxytag: member="usb_task.h::OTGSTR_UNSUPPORTED" ref="g85a54ca79973d29ac87cfefbc0969c23" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OTGSTR_UNSUPPORTED&nbsp;&nbsp;&nbsp;&quot;Unsupported Device&quot;          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="a00134.html#l00292">292</a> of file <a class="el" href="a00134.html">usb_task.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="gc6a0a5aba90956ac19971700f2258dbe"></a><!-- doxytag: member="usb_task.h::OTGSTR_UNSUPPORTED_HUB" ref="gc6a0a5aba90956ac19971700f2258dbe" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OTGSTR_UNSUPPORTED_HUB&nbsp;&nbsp;&nbsp;&quot;Hub Unsuppported  &quot;          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="a00134.html#l00293">293</a> of file <a class="el" href="a00134.html">usb_task.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="g8d03284a0543565891da5d3e4493c9c3"></a><!-- doxytag: member="usb_task.h::OTGSTR_SRP_RECEIVED" ref="g8d03284a0543565891da5d3e4493c9c3" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OTGSTR_SRP_RECEIVED&nbsp;&nbsp;&nbsp;&quot;SRP Received      &quot;          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="a00134.html#l00294">294</a> of file <a class="el" href="a00134.html">usb_task.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="g828cace3d5c4b84804e1e4989920c17e"></a><!-- doxytag: member="usb_task.h::OTGSTR_DEVICE_NO_RESP" ref="g828cace3d5c4b84804e1e4989920c17e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OTGSTR_DEVICE_NO_RESP&nbsp;&nbsp;&nbsp;&quot;Device No Response&quot;          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="a00134.html#l00295">295</a> of file <a class="el" href="a00134.html">usb_task.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="gcd6890885fce2d40d60048afc6149423"></a><!-- doxytag: member="usb_task.h::OTGSTR_VBUS_SURCHARGE" ref="gcd6890885fce2d40d60048afc6149423" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OTGSTR_VBUS_SURCHARGE&nbsp;&nbsp;&nbsp;&quot;VBUS OverCurrent !&quot;          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="a00134.html#l00296">296</a> of file <a class="el" href="a00134.html">usb_task.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="gaf34ab7992d4c510f649b53fb22a0d24"></a><!-- doxytag: member="usb_task.h::OTGMSG_NONE" ref="gaf34ab7992d4c510f649b53fb22a0d24" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OTGMSG_NONE&nbsp;&nbsp;&nbsp;0          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="a00134.html#l00302">302</a> of file <a class="el" href="a00134.html">usb_task.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="g2144b17afeedc6b99a96a1970fa2ae38"></a><!-- doxytag: member="usb_task.h::OTGMSG_FAIL" ref="g2144b17afeedc6b99a96a1970fa2ae38" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OTGMSG_FAIL&nbsp;&nbsp;&nbsp;1          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="a00134.html#l00303">303</a> of file <a class="el" href="a00134.html">usb_task.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="gf2bf9352679db9246a1d9e775a208799"></a><!-- doxytag: member="usb_task.h::OTGMSG_ALL" ref="gf2bf9352679db9246a1d9e775a208799" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OTGMSG_ALL&nbsp;&nbsp;&nbsp;2          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="a00134.html#l00304">304</a> of file <a class="el" href="a00134.html">usb_task.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="gf9561bc736a2b1cc6e3cce4d948c774d"></a><!-- doxytag: member="usb_task.h::Otg_messaging_init" ref="gf9561bc736a2b1cc6e3cce4d948c774d" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define Otg_messaging_init          </td>
          <td>(</td>
&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="a00134.html#l00335">335</a> of file <a class="el" href="a00134.html">usb_task.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="g873c07ae6b1030cfc07a2dbf963067e0"></a><!-- doxytag: member="usb_task.h::Otg_print_new_event_message" ref="g873c07ae6b1030cfc07a2dbf963067e0" args="(str, tm)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define Otg_print_new_event_message          </td>
          <td>(</td>
          <td class="paramtype">str,         <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">tm&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="a00134.html#l00336">336</a> of file <a class="el" href="a00134.html">usb_task.h</a>.</p>

<p>Referenced by <a class="el" href="a00123.html#l00189">usb_device_task()</a>.</p>

</div>
</div><p>
<a class="anchor" name="g37e6f00a171ec8f328f7e654bd4f15b5"></a><!-- doxytag: member="usb_task.h::Otg_clear_event_message" ref="g37e6f00a171ec8f328f7e654bd4f15b5" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define Otg_clear_event_message          </td>
          <td>(</td>
&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="a00134.html#l00337">337</a> of file <a class="el" href="a00134.html">usb_task.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="g64f198a9e7ea135cbda6ffc54ac30857"></a><!-- doxytag: member="usb_task.h::Get_event_msg_delay" ref="g64f198a9e7ea135cbda6ffc54ac30857" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define Get_event_msg_delay          </td>
          <td>(</td>
&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="a00134.html#l00338">338</a> of file <a class="el" href="a00134.html">usb_task.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="gc7dbc5229e2de79913256f69c2cd19c7"></a><!-- doxytag: member="usb_task.h::Decrement_event_msg_delay" ref="gc7dbc5229e2de79913256f69c2cd19c7" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define Decrement_event_msg_delay          </td>
          <td>(</td>
&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="a00134.html#l00339">339</a> of file <a class="el" href="a00134.html">usb_task.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="g97525df033e58673ffb2a5a7c796c1cf"></a><!-- doxytag: member="usb_task.h::Otg_print_new_failure_message" ref="g97525df033e58673ffb2a5a7c796c1cf" args="(str, tm)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define Otg_print_new_failure_message          </td>
          <td>(</td>
          <td class="paramtype">str,         <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">tm&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="a00134.html#l00340">340</a> of file <a class="el" href="a00134.html">usb_task.h</a>.</p>

<p>Referenced by <a class="el" href="a00123.html#l00189">usb_device_task()</a>.</p>

</div>
</div><p>
<a class="anchor" name="g0b2ea414692d720c71b28dc3c86035f1"></a><!-- doxytag: member="usb_task.h::Otg_clear_failure_message" ref="g0b2ea414692d720c71b28dc3c86035f1" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define Otg_clear_failure_message          </td>
          <td>(</td>
&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="a00134.html#l00341">341</a> of file <a class="el" href="a00134.html">usb_task.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="gf92278130b54fd0fdcac29b1517c99e5"></a><!-- doxytag: member="usb_task.h::Get_failure_msg_delay" ref="gf92278130b54fd0fdcac29b1517c99e5" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define Get_failure_msg_delay          </td>
          <td>(</td>
&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="a00134.html#l00342">342</a> of file <a class="el" href="a00134.html">usb_task.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="g5df7080c626c9301e93e626c80360959"></a><!-- doxytag: member="usb_task.h::Decrement_failure_msg_delay" ref="g5df7080c626c9301e93e626c80360959" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define Decrement_failure_msg_delay          </td>
          <td>(</td>
&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="a00134.html#l00343">343</a> of file <a class="el" href="a00134.html">usb_task.h</a>.</p>

</div>
</div><p>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="g3f12a1a1edad96df977ce6cf9cc2e334"></a><!-- doxytag: member="usb_task.h::usb_task_init" ref="g3f12a1a1edad96df977ce6cf9cc2e334" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void usb_task_init           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This function initializes the USB proces. 
<p>
This function enables the USB controller and init the USB interrupts. The aim is to allow the USB connection detection in order to send the appropriate USB event to the operating mode manager. Depending on the mode supported (HOST/DEVICE/DUAL_ROLE) the function calls the corespong usb mode initialization function<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>none</em>&nbsp;</td><td></td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>none</dd></dl>
This function initializes the USB proces.<p>
Depending on the mode supported (HOST/DEVICE/DUAL_ROLE) the function calls the coresponding usb mode initialization function<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>none</em>&nbsp;</td><td></td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>none </dd></dl>

<p>Definition at line <a class="el" href="a00133.html#l00177">177</a> of file <a class="el" href="a00133.html">usb_task.c</a>.</p>

<p>References <a class="el" href="a00133.html#l00162">g_old_usb_mode</a>, <a class="el" href="a00133.html#l00161">g_usb_mode</a>, <a class="el" href="a00126.html#l00261">Is_usb_id_device</a>, <a class="el" href="a00126.html#l00263">Usb_ack_id_transition</a>, <a class="el" href="a00123.html#l00135">usb_device_task_init()</a>, <a class="el" href="a00126.html#l00258">Usb_enable_id_interrupt</a>, <a class="el" href="a00126.html#l00199">Usb_enable_regulator</a>, <a class="el" href="a00126.html#l00210">Usb_enable_uid_pin</a>, <a class="el" href="a00126.html#l00214">Usb_force_device_mode</a>, <a class="el" href="a00126.html#l00216">Usb_force_host_mode</a>, <a class="el" href="a00134.html#l00094">USB_MODE_DEVICE</a>, <a class="el" href="a00134.html#l00093">USB_MODE_HOST</a>, and <a class="el" href="a00134.html#l00092">USB_MODE_UNDEFINED</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00178"></a>00178 {
<a name="l00179"></a>00179 <span class="preprocessor">   #if (USB_HOST_FEATURE == ENABLED &amp;&amp; USB_DEVICE_FEATURE == ENABLED)</span>
<a name="l00180"></a>00180 <span class="preprocessor"></span>   <a class="code" href="a00018.html#3cb25ca6f51f003950f9625ff05536fc">U8</a> delay;
<a name="l00181"></a>00181 <span class="preprocessor">   #endif</span>
<a name="l00182"></a>00182 <span class="preprocessor"></span>
<a name="l00183"></a>00183 <span class="preprocessor">   #if (USE_USB_PADS_REGULATOR==ENABLE)  // Otherwise assume USB PADs regulator is not used</span>
<a name="l00184"></a>00184 <span class="preprocessor"></span>   <a class="code" href="a00071.html#g3f1f9cc597902b8729abf07c60617451" title="Enable internal USB pads regulator.">Usb_enable_regulator</a>();
<a name="l00185"></a>00185 <span class="preprocessor">   #endif</span>
<a name="l00186"></a>00186 <span class="preprocessor"></span>
<a name="l00187"></a>00187 <span class="comment">// ---- DUAL ROLE DEVICE USB MODE ---------------------------------------------</span>
<a name="l00188"></a>00188 <span class="preprocessor">#if ((USB_DEVICE_FEATURE == ENABLED)&amp;&amp; (USB_HOST_FEATURE == ENABLED))</span>
<a name="l00189"></a>00189 <span class="preprocessor"></span>   <a class="code" href="a00072.html#g651f4836c7a4597f38f53c9f8e10edb5" title="Enable external UID pin.">Usb_enable_uid_pin</a>();
<a name="l00190"></a>00190    delay=PORTA;
<a name="l00191"></a>00191    <a class="code" href="a00079.html#g15f9a9a8d1f9d6e6f4004f586453fc4d" title="Public : (U8) g_usb_mode Used in dual role application (both device/host) to store...">g_usb_mode</a>=<a class="code" href="a00079.html#g01a1049d9451711287e470a436a10205">USB_MODE_UNDEFINED</a>;
<a name="l00192"></a>00192    <span class="keywordflow">if</span>(<a class="code" href="a00072.html#g66dda64b995b495f54ef99774abb67d1">Is_usb_id_device</a>())
<a name="l00193"></a>00193    {
<a name="l00194"></a>00194      <a class="code" href="a00079.html#g15f9a9a8d1f9d6e6f4004f586453fc4d" title="Public : (U8) g_usb_mode Used in dual role application (both device/host) to store...">g_usb_mode</a>=<a class="code" href="a00079.html#g673fc2cbe441f3f8e252171b9548cfd3">USB_MODE_DEVICE</a>;
<a name="l00195"></a>00195      <a class="code" href="a00077.html#g7c2af30a7a3db221358b9f016ceb1375" title="This function initializes the USB device controller and system interrupt.">usb_device_task_init</a>();
<a name="l00196"></a>00196    }
<a name="l00197"></a>00197    <span class="keywordflow">else</span>
<a name="l00198"></a>00198    {
<a name="l00199"></a>00199      <a class="code" href="a00079.html#g15f9a9a8d1f9d6e6f4004f586453fc4d" title="Public : (U8) g_usb_mode Used in dual role application (both device/host) to store...">g_usb_mode</a>=<a class="code" href="a00079.html#g0322da46e441ec8a861ae3eb2cec9bf0">USB_MODE_HOST</a>;
<a name="l00200"></a>00200      <a class="code" href="a00072.html#g6be23915ef352233cba6ae031b5f2347">Usb_ack_id_transition</a>(); <span class="comment">// REQUIRED !!! Startup with ID=0, Ack ID pin transistion (default hwd start up is device mode)</span>
<a name="l00201"></a>00201 <span class="preprocessor">#if ( ID_PIN_CHANGE_GENERATE_RESET == ENABLE)</span>
<a name="l00202"></a>00202 <span class="preprocessor"></span>     <a class="code" href="a00072.html#gc7099802e8e5cc056e1bde3d21ed486f">Usb_enable_id_interrupt</a>();
<a name="l00203"></a>00203 <span class="preprocessor">#endif     </span>
<a name="l00204"></a>00204 <span class="preprocessor"></span>     Enable_interrupt();
<a name="l00205"></a>00205      usb_host_task_init();
<a name="l00206"></a>00206    }
<a name="l00207"></a>00207    <a class="code" href="a00048.html#20e543a0bffedb59ae305d29610cd6ec">g_old_usb_mode</a>=<a class="code" href="a00079.html#g15f9a9a8d1f9d6e6f4004f586453fc4d" title="Public : (U8) g_usb_mode Used in dual role application (both device/host) to store...">g_usb_mode</a>;   <span class="comment">// Store current usb mode, for mode change detection</span>
<a name="l00208"></a>00208 <span class="comment">// -----------------------------------------------------------------------------</span>
<a name="l00209"></a>00209 
<a name="l00210"></a>00210 <span class="comment">// ---- DEVICE ONLY USB MODE ---------------------------------------------------</span>
<a name="l00211"></a>00211 <span class="preprocessor">#elif ((USB_DEVICE_FEATURE == ENABLED)&amp;&amp; (USB_HOST_FEATURE == DISABLE))</span>
<a name="l00212"></a>00212 <span class="preprocessor"></span>   <a class="code" href="a00072.html#g6c568ee3fa6122caad6f0842c1c70c3a" title="Disable external UID pin and force device mode.">Usb_force_device_mode</a>();
<a name="l00213"></a>00213    <a class="code" href="a00077.html#g7c2af30a7a3db221358b9f016ceb1375" title="This function initializes the USB device controller and system interrupt.">usb_device_task_init</a>();
<a name="l00214"></a>00214 <span class="comment">// -----------------------------------------------------------------------------</span>
<a name="l00215"></a>00215 
<a name="l00216"></a>00216 <span class="comment">// ---- REDUCED HOST ONLY USB MODE ---------------------------------------------</span>
<a name="l00217"></a>00217 <span class="preprocessor">#elif ((USB_DEVICE_FEATURE == DISABLE)&amp;&amp; (USB_HOST_FEATURE == ENABLED))</span>
<a name="l00218"></a>00218 <span class="preprocessor"></span>   <a class="code" href="a00072.html#g830372719239335fa009a2f09e480a80" title="Disable external UID pin and force host mode.">Usb_force_host_mode</a>();
<a name="l00219"></a>00219    usb_host_task_init();
<a name="l00220"></a>00220 <span class="preprocessor">#elif ((USB_DEVICE_FEATURE == DISABLE)&amp;&amp; (USB_HOST_FEATURE == DISABLE))</span>
<a name="l00221"></a>00221 <span class="preprocessor"></span><span class="preprocessor">   #error  at least one of USB_DEVICE_FEATURE or USB_HOST_FEATURE should be enabled</span>
<a name="l00222"></a>00222 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00223"></a>00223 <span class="preprocessor"></span><span class="comment">// -----------------------------------------------------------------------------</span>
<a name="l00224"></a>00224 
<a name="l00225"></a>00225 
<a name="l00226"></a>00226 }
</pre></div>
<p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="a00079_g3f12a1a1edad96df977ce6cf9cc2e334_cgraph.png" border="0" usemap="#a00079_g3f12a1a1edad96df977ce6cf9cc2e334_cgraph_map" alt=""></center>
<map name="a00079_g3f12a1a1edad96df977ce6cf9cc2e334_cgraph_map">
<area shape="rect" href="a00077.html#g7c2af30a7a3db221358b9f016ceb1375" title="This function initializes the USB device controller and system interrupt." alt="" coords="152,5,293,32"></map>
</div>

</div>
</div><p>
<a class="anchor" name="gcfc13a32887382f69c46749dad1afa45"></a><!-- doxytag: member="usb_task.h::usb_task" ref="gcfc13a32887382f69c46749dad1afa45" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void usb_task           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Entry point of the USB mamnagement. 
<p>
Depending on the mode supported (HOST/DEVICE/DUAL_ROLE) the function calls the corespong usb management function<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>none</em>&nbsp;</td><td></td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>none</dd></dl>
Depending on the USB mode supported (HOST/DEVICE/DUAL_ROLE) the function calls the coresponding usb management function.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>none</em>&nbsp;</td><td></td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>none </dd></dl>

<p>Definition at line <a class="el" href="a00133.html#l00238">238</a> of file <a class="el" href="a00133.html">usb_task.c</a>.</p>

<p>References <a class="el" href="a00133.html#l00162">g_old_usb_mode</a>, <a class="el" href="a00133.html#l00161">g_usb_mode</a>, <a class="el" href="a00126.html#l00734">Host_disable_device_disconnection_interrupt</a>, <a class="el" href="a00126.html#l00670">Host_disable_sof</a>, <a class="el" href="a00126.html#l00683">Host_disable_sof_interrupt</a>, <a class="el" href="a00126.html#l00261">Is_usb_id_device</a>, <a class="el" href="a00126.html#l00262">Is_usb_id_host</a>, <a class="el" href="a00126.html#l00263">Usb_ack_id_transition</a>, <a class="el" href="a00126.html#l00405">Usb_detach</a>, <a class="el" href="a00123.html#l00189">usb_device_task()</a>, <a class="el" href="a00123.html#l00135">usb_device_task_init()</a>, <a class="el" href="a00126.html#l00229">Usb_disable</a>, <a class="el" href="a00126.html#l00303">Usb_disable_manual_vbus</a>, <a class="el" href="a00126.html#l00451">Usb_disable_reset_interrupt</a>, <a class="el" href="a00126.html#l00431">Usb_disable_resume_interrupt</a>, <a class="el" href="a00126.html#l00471">Usb_disable_suspend_interrupt</a>, <a class="el" href="a00126.html#l00299">Usb_disable_vbus</a>, <a class="el" href="a00126.html#l00441">Usb_disable_wake_up_interrupt</a>, <a class="el" href="a00126.html#l00254">Usb_freeze_clock</a>, <a class="el" href="a00134.html#l00094">USB_MODE_DEVICE</a>, <a class="el" href="a00134.html#l00093">USB_MODE_HOST</a>, <a class="el" href="a00134.html#l00092">USB_MODE_UNDEFINED</a>, <a class="el" href="a00135.html#l00086">wdtdrv_enable()</a>, and <a class="el" href="a00136.html#l00072">WDTO_16MS</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00239"></a>00239 {
<a name="l00240"></a>00240 <span class="comment">// ---- DUAL ROLE DEVICE USB MODE ---------------------------------------------</span>
<a name="l00241"></a>00241 <span class="preprocessor">#if ((USB_DEVICE_FEATURE == ENABLED)&amp;&amp; (USB_HOST_FEATURE == ENABLED))</span>
<a name="l00242"></a>00242 <span class="preprocessor"></span>   <span class="keywordflow">if</span>(<a class="code" href="a00072.html#g66dda64b995b495f54ef99774abb67d1">Is_usb_id_device</a>())
<a name="l00243"></a>00243    { <a class="code" href="a00079.html#g15f9a9a8d1f9d6e6f4004f586453fc4d" title="Public : (U8) g_usb_mode Used in dual role application (both device/host) to store...">g_usb_mode</a>=<a class="code" href="a00079.html#g673fc2cbe441f3f8e252171b9548cfd3">USB_MODE_DEVICE</a>;}
<a name="l00244"></a>00244    <span class="keywordflow">else</span>
<a name="l00245"></a>00245    { <a class="code" href="a00079.html#g15f9a9a8d1f9d6e6f4004f586453fc4d" title="Public : (U8) g_usb_mode Used in dual role application (both device/host) to store...">g_usb_mode</a>=<a class="code" href="a00079.html#g0322da46e441ec8a861ae3eb2cec9bf0">USB_MODE_HOST</a>;}
<a name="l00246"></a>00246 
<a name="l00247"></a>00247    <span class="keywordflow">if</span>( <a class="code" href="a00048.html#20e543a0bffedb59ae305d29610cd6ec">g_old_usb_mode</a> != <a class="code" href="a00079.html#g15f9a9a8d1f9d6e6f4004f586453fc4d" title="Public : (U8) g_usb_mode Used in dual role application (both device/host) to store...">g_usb_mode</a> )
<a name="l00248"></a>00248    {
<a name="l00249"></a>00249       <span class="comment">// ID pin hot state change</span>
<a name="l00250"></a>00250 <span class="preprocessor">#if ( ID_PIN_CHANGE_GENERATE_RESET == ENABLE)</span>
<a name="l00251"></a>00251 <span class="preprocessor"></span>      <span class="comment">// Hot ID transition generates wdt reset</span>
<a name="l00252"></a>00252       <a class="code" href="a00098.html#g8ebb0278e7ddba69d860f75b6789d720" title="This functions activates the hardware watchdog timer System Reset Mode only.">wdtdrv_enable</a>(<a class="code" href="a00098.html#gd81e76ad99cc752a1f969c545bf28ecf">WDTO_16MS</a>);
<a name="l00253"></a>00253       <span class="keywordflow">while</span>(1);
<a name="l00254"></a>00254 <span class="preprocessor">#else</span>
<a name="l00255"></a>00255 <span class="preprocessor"></span>      <span class="comment">// Hot ID transition reset USB mode      </span>
<a name="l00256"></a>00256       <a class="code" href="a00072.html#g6be23915ef352233cba6ae031b5f2347">Usb_ack_id_transition</a>(); <span class="comment">// REQUIRED</span>
<a name="l00257"></a>00257       <span class="keywordflow">if</span> (<a class="code" href="a00072.html#ga66aa05dc002d7755b37861d25ba9993">Is_usb_id_host</a>())
<a name="l00258"></a>00258       {
<a name="l00259"></a>00259          <a class="code" href="a00073.html#gd798460b713d401890e35b41fcdc0afb" title="disables resume interrupt">Usb_disable_resume_interrupt</a>();
<a name="l00260"></a>00260          <a class="code" href="a00073.html#g8cbfa4fad6d126cb9547be30cf029be5" title="disables wake-up interrupt">Usb_disable_wake_up_interrupt</a>();
<a name="l00261"></a>00261          <a class="code" href="a00073.html#g4507f165f90f0509948eafd9995b8ae4" title="disables suspend state interrupt">Usb_disable_suspend_interrupt</a>();
<a name="l00262"></a>00262          <a class="code" href="a00073.html#g2d13807b4813f246d359f3b9bce1d7c0" title="disables USB reset interrupt">Usb_disable_reset_interrupt</a>();
<a name="l00263"></a>00263          <a class="code" href="a00073.html#g577f33996ee2c40ce8a5e4c700352e72" title="detaches from USB bus">Usb_detach</a>();
<a name="l00264"></a>00264          <a class="code" href="a00072.html#gb1c7cd82bc66fb726c9ebc86b96db2d2" title="Disable both USB interface and Vbus pad.">Usb_disable</a>();
<a name="l00265"></a>00265          usb_host_task_init();
<a name="l00266"></a>00266       }
<a name="l00267"></a>00267       <span class="keywordflow">else</span>
<a name="l00268"></a>00268       { 
<a name="l00269"></a>00269          <a class="code" href="a00075.html#g9266c27f50db0d315be86020566bedb5" title="disables USB device connection interrupt">Host_disable_device_disconnection_interrupt</a>();
<a name="l00270"></a>00270          <a class="code" href="a00075.html#g42cc31cb98e8ced4cc2a3fabdd8161c6" title="enables host start of frame interrupt">Host_disable_sof_interrupt</a>();
<a name="l00271"></a>00271          <a class="code" href="a00075.html#g68db4d883e0ca8ff12145c1a30612225" title="disables SOF generation">Host_disable_sof</a>();
<a name="l00272"></a>00272          <a class="code" href="a00072.html#gc51f01e3525d28fb800d33f7f6c8312f" title="requests for VBus desactivation">Usb_disable_vbus</a>();
<a name="l00273"></a>00273          <a class="code" href="a00072.html#g9b43c807d95e6348cd629de656b1ceee" title="Manually request VBUS OFF without UVCON signal from USB interface.">Usb_disable_manual_vbus</a>();
<a name="l00274"></a>00274          <a class="code" href="a00072.html#g84bc0b49ddb8e6cb499d6f4c9bb3eef3" title="Stop internal USB clock in interface (freeze the interface register).">Usb_freeze_clock</a>();
<a name="l00275"></a>00275          <a class="code" href="a00072.html#gb1c7cd82bc66fb726c9ebc86b96db2d2" title="Disable both USB interface and Vbus pad.">Usb_disable</a>();
<a name="l00276"></a>00276          <a class="code" href="a00077.html#g7c2af30a7a3db221358b9f016ceb1375" title="This function initializes the USB device controller and system interrupt.">usb_device_task_init</a>();
<a name="l00277"></a>00277       }
<a name="l00278"></a>00278 <span class="preprocessor">#endif</span>
<a name="l00279"></a>00279 <span class="preprocessor"></span>   }
<a name="l00280"></a>00280    
<a name="l00281"></a>00281    <span class="comment">// Store current usb mode, for mode change detection</span>
<a name="l00282"></a>00282    <a class="code" href="a00048.html#20e543a0bffedb59ae305d29610cd6ec">g_old_usb_mode</a>=<a class="code" href="a00079.html#g15f9a9a8d1f9d6e6f4004f586453fc4d" title="Public : (U8) g_usb_mode Used in dual role application (both device/host) to store...">g_usb_mode</a>;
<a name="l00283"></a>00283 
<a name="l00284"></a>00284    <span class="comment">// Depending on current usb mode, launch the correct usb task (device or host)</span>
<a name="l00285"></a>00285    <span class="keywordflow">switch</span>(<a class="code" href="a00079.html#g15f9a9a8d1f9d6e6f4004f586453fc4d" title="Public : (U8) g_usb_mode Used in dual role application (both device/host) to store...">g_usb_mode</a>)
<a name="l00286"></a>00286    {
<a name="l00287"></a>00287       <span class="keywordflow">case</span> <a class="code" href="a00079.html#g673fc2cbe441f3f8e252171b9548cfd3">USB_MODE_DEVICE</a>:
<a name="l00288"></a>00288       <a class="code" href="a00077.html#gf07e4fe32a964ffd5b36724976e7c7bd" title="Entry point of the USB device mamagement.">usb_device_task</a>();
<a name="l00289"></a>00289       <span class="keywordflow">break</span>;
<a name="l00290"></a>00290       
<a name="l00291"></a>00291       <span class="keywordflow">case</span> <a class="code" href="a00079.html#g0322da46e441ec8a861ae3eb2cec9bf0">USB_MODE_HOST</a>:
<a name="l00292"></a>00292       usb_host_task();
<a name="l00293"></a>00293       <span class="keywordflow">break</span>;
<a name="l00294"></a>00294       
<a name="l00295"></a>00295       <span class="keywordflow">case</span> <a class="code" href="a00079.html#g01a1049d9451711287e470a436a10205">USB_MODE_UNDEFINED</a>:  <span class="comment">// No break !</span>
<a name="l00296"></a>00296       <span class="keywordflow">default</span>:
<a name="l00297"></a>00297       <span class="keywordflow">break</span>;
<a name="l00298"></a>00298   }
<a name="l00299"></a>00299 <span class="comment">// -----------------------------------------------------------------------------</span>
<a name="l00300"></a>00300 
<a name="l00301"></a>00301 <span class="comment">// ---- DEVICE ONLY USB MODE ---------------------------------------------------</span>
<a name="l00302"></a>00302 <span class="preprocessor">#elif ((USB_DEVICE_FEATURE == ENABLED)&amp;&amp; (USB_HOST_FEATURE == DISABLE))</span>
<a name="l00303"></a>00303 <span class="preprocessor"></span>   <a class="code" href="a00077.html#gf07e4fe32a964ffd5b36724976e7c7bd" title="Entry point of the USB device mamagement.">usb_device_task</a>();
<a name="l00304"></a>00304 <span class="comment">// -----------------------------------------------------------------------------</span>
<a name="l00305"></a>00305 
<a name="l00306"></a>00306 <span class="comment">// ---- REDUCED HOST ONLY USB MODE ---------------------------------------------</span>
<a name="l00307"></a>00307 <span class="preprocessor">#elif ((USB_DEVICE_FEATURE == DISABLE)&amp;&amp; (USB_HOST_FEATURE == ENABLED))</span>
<a name="l00308"></a>00308 <span class="preprocessor"></span>   usb_host_task();
<a name="l00309"></a>00309 <span class="comment">// -----------------------------------------------------------------------------</span>
<a name="l00310"></a>00310 <span class="comment"></span>
<a name="l00311"></a>00311 <span class="comment">//! ---- ERROR, NO MODE ENABLED -------------------------------------------------</span>
<a name="l00312"></a>00312 <span class="comment"></span><span class="preprocessor">#elif ((USB_DEVICE_FEATURE == DISABLE)&amp;&amp; (USB_HOST_FEATURE == DISABLE))</span>
<a name="l00313"></a>00313 <span class="preprocessor"></span><span class="preprocessor">   #error  at least one of USB_DEVICE_FEATURE or USB_HOST_FEATURE should be enabled</span>
<a name="l00314"></a>00314 <span class="preprocessor"></span><span class="preprocessor">   #error  otherwise the usb task has nothing to do ...</span>
<a name="l00315"></a>00315 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00316"></a>00316 <span class="preprocessor"></span><span class="comment">// -----------------------------------------------------------------------------</span>
<a name="l00317"></a>00317 
<a name="l00318"></a>00318 }
</pre></div>
<p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="a00079_gcfc13a32887382f69c46749dad1afa45_cgraph.png" border="0" usemap="#a00079_gcfc13a32887382f69c46749dad1afa45_cgraph_map" alt=""></center>
<map name="a00079_gcfc13a32887382f69c46749dad1afa45_cgraph_map">
<area shape="rect" href="a00077.html#gf07e4fe32a964ffd5b36724976e7c7bd" title="Entry point of the USB device mamagement." alt="" coords="140,5,257,32"><area shape="rect" href="a00077.html#g7c2af30a7a3db221358b9f016ceb1375" title="This function initializes the USB device controller and system interrupt." alt="" coords="128,56,269,83"><area shape="rect" href="a00098.html#g8ebb0278e7ddba69d860f75b6789d720" title="This functions activates the hardware watchdog timer System Reset Mode only." alt="" coords="148,107,249,133"></map>
</div>

</div>
</div><p>
<a class="anchor" name="gf4cdcb0d1d7bebb254bb66a1c3212a89"></a><!-- doxytag: member="usb_task.h::otg_not_supported_device" ref="gf4cdcb0d1d7bebb254bb66a1c3212a89" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void otg_not_supported_device           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<hr><h2>Variable Documentation</h2>
<a class="anchor" name="g7ac443ad2b3af51ce54d49d689acce3b"></a><!-- doxytag: member="usb_task.h::g_usb_event" ref="g7ac443ad2b3af51ce54d49d689acce3b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile <a class="el" href="a00018.html#df928e51a60dba0df29d615401cc55a8">U16</a> <a class="el" href="a00079.html#g7ac443ad2b3af51ce54d49d689acce3b">g_usb_event</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Public : U16 g_usb_event usb_connected is used to store USB events detected upon USB general interrupt subroutine Its value is managed by the following macros (See <a class="el" href="a00049.html" title="This file contains the function declarations.">usb_task.h</a> file) <a class="el" href="a00080.html#g5a10a90b40c67b40f448c91d8a29abd5">Usb_send_event(x)</a> <a class="el" href="a00080.html#g41da8b1e05449acf720091b1cab8cb3f">Usb_ack_event(x)</a> <a class="el" href="a00080.html#gbd7e6a26ac11daf279b07563e3b6dc11">Usb_clear_all_event()</a> <a class="el" href="a00080.html#g7c9320480ef6ad04fa7ecc5fbe46794d">Is_usb_event(x)</a> <a class="el" href="a00080.html#g3da7d8904c82c9c2e4e8cd9f1bdb54e0">Is_not_usb_event(x)</a>. 
<p>

<p>Definition at line <a class="el" href="a00133.html#l00103">103</a> of file <a class="el" href="a00133.html">usb_task.c</a>.</p>

</div>
</div><p>
<a class="anchor" name="g15f9a9a8d1f9d6e6f4004f586453fc4d"></a><!-- doxytag: member="usb_task.h::g_usb_mode" ref="g15f9a9a8d1f9d6e6f4004f586453fc4d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00018.html#3cb25ca6f51f003950f9625ff05536fc">U8</a> <a class="el" href="a00079.html#g15f9a9a8d1f9d6e6f4004f586453fc4d">g_usb_mode</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Public : (U8) g_usb_mode Used in dual role application (both device/host) to store the current mode the usb controller is operating /. 
<p>

<p>Definition at line <a class="el" href="a00133.html#l00161">161</a> of file <a class="el" href="a00133.html">usb_task.c</a>.</p>

<p>Referenced by <a class="el" href="a00133.html#l00352">usb_general_interrupt()</a>, <a class="el" href="a00133.html#l00238">usb_task()</a>, and <a class="el" href="a00133.html#l00177">usb_task_init()</a>.</p>

</div>
</div><p>
<a class="anchor" name="gb70750a511e2422aab0bfb21e4aede72"></a><!-- doxytag: member="usb_task.h::remote_wakeup_feature" ref="gb70750a511e2422aab0bfb21e4aede72" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00018.html#3cb25ca6f51f003950f9625ff05536fc">U8</a> <a class="el" href="a00079.html#gb70750a511e2422aab0bfb21e4aede72">remote_wakeup_feature</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Public : (U8) remote_wakeup_feature Store a host request for remote wake up (set feature received) /. 
<p>

<p>Definition at line <a class="el" href="a00131.html#l00098">98</a> of file <a class="el" href="a00131.html">usb_standard_request.c</a>.</p>

<p>Referenced by <a class="el" href="a00109.html#l00191">suspend_action()</a>, <a class="el" href="a00131.html#l00527">usb_clear_feature()</a>, <a class="el" href="a00123.html#l00189">usb_device_task()</a>, <a class="el" href="a00133.html#l00352">usb_general_interrupt()</a>, <a class="el" href="a00131.html#l00639">usb_generate_remote_wakeup()</a>, and <a class="el" href="a00131.html#l00434">usb_set_feature()</a>.</p>

</div>
</div><p>
<a class="anchor" name="g0c2e3155e09f806dabe53eb565747313"></a><!-- doxytag: member="usb_task.h::private_sof_counter" ref="g0c2e3155e09f806dabe53eb565747313" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile <a class="el" href="a00018.html#3cb25ca6f51f003950f9625ff05536fc">U8</a> <a class="el" href="a00079.html#g0c2e3155e09f806dabe53eb565747313">private_sof_counter</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Private : (U8) private_sof_counter Incremented by host SOF interrupt subroutime This counter is used to detect timeout in host requests. 
<p>
It must not be modified by the user application tasks. / 
<p>Definition at line <a class="el" href="a00133.html#l00143">143</a> of file <a class="el" href="a00133.html">usb_task.c</a>.</p>

<p>Referenced by <a class="el" href="a00133.html#l00352">usb_general_interrupt()</a>.</p>

</div>
</div><p>
<a class="anchor" name="ga108ba97a9cc1691ae3a9b894f5c7dcc"></a><!-- doxytag: member="usb_task.h::otg_features_supported" ref="ga108ba97a9cc1691ae3a9b894f5c7dcc" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile <a class="el" href="a00018.html#3cb25ca6f51f003950f9625ff05536fc">U8</a> <a class="el" href="a00079.html#ga108ba97a9cc1691ae3a9b894f5c7dcc">otg_features_supported</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
External public declarations for OTG features. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>none</em>&nbsp;</td><td></td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>none </dd></dl>

<p>Referenced by <a class="el" href="a00131.html#l00434">usb_set_feature()</a>.</p>

</div>
</div><p>
<a class="anchor" name="g661a265ea70a7557ab2a40647d3738d8"></a><!-- doxytag: member="usb_task.h::otg_user_request" ref="g661a265ea70a7557ab2a40647d3738d8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00018.html#3cb25ca6f51f003950f9625ff05536fc">U8</a> <a class="el" href="a00079.html#g661a265ea70a7557ab2a40647d3738d8">otg_user_request</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="gce21bb8a6bb44b664270db9b6e396ce0"></a><!-- doxytag: member="usb_task.h::g_otg_event" ref="gce21bb8a6bb44b664270db9b6e396ce0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile <a class="el" href="a00018.html#df928e51a60dba0df29d615401cc55a8">U16</a> <a class="el" href="a00079.html#gce21bb8a6bb44b664270db9b6e396ce0">g_otg_event</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="gcf24d6ef5c550a58164bebed491869cf"></a><!-- doxytag: member="usb_task.h::id_changed_to_host_event" ref="gcf24d6ef5c550a58164bebed491869cf" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00018.html#3cb25ca6f51f003950f9625ff05536fc">U8</a> <a class="el" href="a00079.html#gcf24d6ef5c550a58164bebed491869cf">id_changed_to_host_event</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="ge9903511f0fd6f0ebf07c9746f952815"></a><!-- doxytag: member="usb_task.h::otg_msg_event_delay" ref="ge9903511f0fd6f0ebf07c9746f952815" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00018.html#df928e51a60dba0df29d615401cc55a8">U16</a> <a class="el" href="a00079.html#ge9903511f0fd6f0ebf07c9746f952815">otg_msg_event_delay</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="ga7c73d24072540bc07acf2d18f2ae576"></a><!-- doxytag: member="usb_task.h::otg_msg_failure_delay" ref="ga7c73d24072540bc07acf2d18f2ae576" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00018.html#df928e51a60dba0df29d615401cc55a8">U16</a> <a class="el" href="a00079.html#ga7c73d24072540bc07acf2d18f2ae576">otg_msg_failure_delay</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Sun May 24 22:43:08 2009 for Virtual Arm for Impaired by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.8 </small></address>
</body>
</html>
